
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>其他 · DBhuang的技术日志</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="dbhuang">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism-darcula.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-ancre-navigation/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    
    <link rel="prev" href="PHP生产者和消费者.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    关于DBhuang的技术日志
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    git
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../git/工作区与本地仓库.html">
            
                <a href="../git/工作区与本地仓库.html">
            
                    
                    工作区与本地仓库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../git/本地仓库到远程仓库.html">
            
                <a href="../git/本地仓库到远程仓库.html">
            
                    
                    本地仓库到远程仓库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../git/本地分支和远程分支.html">
            
                <a href="../git/本地分支和远程分支.html">
            
                    
                    本地分支和远程分支
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../git/gitflow工作流.html">
            
                <a href="../git/gitflow工作流.html">
            
                    
                    gitflow工作流
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../git/百兆大文件提交.html">
            
                <a href="../git/百兆大文件提交.html">
            
                    
                    百兆大文件提交
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../git/获取版本间差异文件上线.html">
            
                <a href="../git/获取版本间差异文件上线.html">
            
                    
                    获取版本间差异文件上线
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    gitbook
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../gitbook/搭建和使用.html">
            
                <a href="../gitbook/搭建和使用.html">
            
                    
                    搭建和使用
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    kafka
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="调整副本.html">
            
                <a href="调整副本.html">
            
                    
                    调整副本
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="数据清理.html">
            
                <a href="数据清理.html">
            
                    
                    数据清理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="PHP生产者和消费者.html">
            
                <a href="PHP生产者和消费者.html">
            
                    
                    PHP生产者和消费者
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.4" data-path="其他.html">
            
                <a href="其他.html">
            
                    
                    其他
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    php
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../php/tars.html">
            
                <a href="../php/tars.html">
            
                    
                    tars
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../php/curl的ca证书.html">
            
                <a href="../php/curl的ca证书.html">
            
                    
                    curl的ca证书
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    software
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../software/phpstorm配置docker.html">
            
                <a href="../software/phpstorm配置docker.html">
            
                    
                    phpstorm配置docker
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../software/fiddler对应用抓包.html">
            
                <a href="../software/fiddler对应用抓包.html">
            
                    
                    fiddler对应用抓包
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../software/远程开机远程控制.html">
            
                <a href="../software/远程开机远程控制.html">
            
                    
                    远程开机远程控制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../software/macmini换硬盘装系统.html">
            
                <a href="../software/macmini换硬盘装系统.html">
            
                    
                    macmini换硬盘装系统
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >其他</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-anchor"></i><ul><li><span class="title-icon "></span><a href="#&#x547D;&#x4EE4;&#x884C;&#x64CD;&#x4F5C;kafka&#xFF0C;&#x8F93;&#x5165;sh&#x56DE;&#x4F20;&#x5373;&#x53EF;&#x770B;&#x547D;&#x4EE4;&#x53C2;&#x6570;"><b></b>&#x547D;&#x4EE4;&#x884C;&#x64CD;&#x4F5C;kafka&#xFF0C;&#x8F93;&#x5165;sh&#x56DE;&#x4F20;&#x5373;&#x53EF;&#x770B;&#x547D;&#x4EE4;&#x53C2;&#x6570;</a></li><ul><li><span class="title-icon "></span><a href="#&#x67E5;&#x770B;kafka&#x7248;&#x672C;&#x548C;broker&#x7248;&#x672C;"><b></b>&#x67E5;&#x770B;kafka&#x7248;&#x672C;&#x548C;broker&#x7248;&#x672C;</a></li><li><span class="title-icon "></span><a href="#&#x67E5;&#x770B;&#x7AEF;&#x53E3;&#x60C5;&#x51B5;"><b></b>&#x67E5;&#x770B;&#x7AEF;&#x53E3;&#x60C5;&#x51B5;</a></li><li><span class="title-icon "></span><a href="#&#x5220;&#x9664;topic"><b></b>&#x5220;&#x9664;topic</a></li><li><span class="title-icon "></span><a href="#&#x5BF9;&#x540D;&#x4E3A;clicklog&#x7684;topic&#xFF0C;partition&#x6269;&#x5C55;&#x5230;6&#x4E2A;"><b></b>&#x5BF9;&#x540D;&#x4E3A;click_log&#x7684;topic&#xFF0C;partition&#x6269;&#x5C55;&#x5230;6&#x4E2A;</a></li><li><span class="title-icon "></span><a href="#consumeroffsets&#x8FD9;&#x4E2A;&#x7279;&#x6B8A;&#x7684;topic"><b></b>__consumer_offsets&#x8FD9;&#x4E2A;&#x7279;&#x6B8A;&#x7684;topic</a></li></ul></ul></div><a href="#&#x547D;&#x4EE4;&#x884C;&#x64CD;&#x4F5C;kafka&#xFF0C;&#x8F93;&#x5165;sh&#x56DE;&#x4F20;&#x5373;&#x53EF;&#x770B;&#x547D;&#x4EE4;&#x53C2;&#x6570;" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="&#x547D;&#x4EE4;&#x884C;&#x64CD;&#x4F5C;kafka&#xFF0C;&#x8F93;&#x5165;sh&#x56DE;&#x4F20;&#x5373;&#x53EF;&#x770B;&#x547D;&#x4EE4;&#x53C2;&#x6570;"><a name="&#x547D;&#x4EE4;&#x884C;&#x64CD;&#x4F5C;kafka&#xFF0C;&#x8F93;&#x5165;sh&#x56DE;&#x4F20;&#x5373;&#x53EF;&#x770B;&#x547D;&#x4EE4;&#x53C2;&#x6570;" class="anchor-navigation-ex-anchor" href="#&#x547D;&#x4EE4;&#x884C;&#x64CD;&#x4F5C;kafka&#xFF0C;&#x8F93;&#x5165;sh&#x56DE;&#x4F20;&#x5373;&#x53EF;&#x770B;&#x547D;&#x4EE4;&#x53C2;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x547D;&#x4EE4;&#x884C;&#x64CD;&#x4F5C;kafka&#xFF0C;&#x8F93;&#x5165;sh&#x56DE;&#x4F20;&#x5373;&#x53EF;&#x770B;&#x547D;&#x4EE4;&#x53C2;&#x6570;</h1>
<pre class="language-"><code>[root@centos2 bin]# kafka-topics.sh 
Create, delete, describe, or change a topic.
Option                                   Description                            
------                                   -----------                            
--alter                                  Alter the number of partitions,        
                                           replica assignment, and/or           
                                           configuration for the topic.         
--at-min-isr-partitions                  if set when describing topics, only    
                                           show partitions whose isr count is   
                                           equal to the configured minimum. Not 
                                           supported with the --zookeeper       
                                           option.                              
--bootstrap-server <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">String:</span></span> <span class="token attr-name">server</span> <span class="token attr-name">to</span>    <span class="token attr-name"><span class="token namespace">REQUIRED:</span></span> <span class="token attr-name">The</span> <span class="token attr-name">Kafka</span> <span class="token attr-name">server</span> <span class="token attr-name">to</span> <span class="token attr-name">connect</span>  
  <span class="token attr-name">connect</span> <span class="token attr-name">to</span><span class="token punctuation">&gt;</span></span>                              to. In case of providing this, a     
                                           direct Zookeeper connection won&apos;t be 
                                           required.                            
--command-config <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">String:</span></span> <span class="token attr-name">command</span>        <span class="token attr-name">Property</span> <span class="token attr-name">file</span> <span class="token attr-name">containing</span> <span class="token attr-name">configs</span> <span class="token attr-name">to</span> <span class="token attr-name">be</span> 
  <span class="token attr-name">config</span> <span class="token attr-name">property</span> <span class="token attr-name">file</span><span class="token punctuation">&gt;</span></span>                    passed to Admin Client. This is used 
                                           only with --bootstrap-server option  
......
</code></pre><pre class="language-"><code class="lang-shell">[root@centos2 ~]# cd /usr/local/kafka/bin
[root@centos2 bin]# ll
total 196
-rwxr-xr-x. 1 root root  1423 Apr 14  2021 connect-distributed.sh
-rwxr-xr-x. 1 root root  1396 Apr 14  2021 connect-mirror-maker.sh
-rwxr-xr-x. 1 root root  1420 Apr 14  2021 connect-standalone.sh
-rwxr-xr-x. 1 root root   861 Apr 14  2021 kafka-acls.sh
-rwxr-xr-x. 1 root root   873 Apr 14  2021 kafka-broker-api-versions.sh
-rwxr-xr-x. 1 root root   860 Apr 14  2021 kafka-cluster.sh
-rwxr-xr-x. 1 root root   864 Apr 14  2021 kafka-configs.sh
-rwxr-xr-x. 1 root root   945 Apr 14  2021 kafka-console-consumer.sh
-rwxr-xr-x. 1 root root   944 Apr 14  2021 kafka-console-producer.sh
-rwxr-xr-x. 1 root root   871 Apr 14  2021 kafka-consumer-groups.sh
-rwxr-xr-x. 1 root root   948 Apr 14  2021 kafka-consumer-perf-test.sh
-rwxr-xr-x. 1 root root   871 Apr 14  2021 kafka-delegation-tokens.sh
-rwxr-xr-x. 1 root root   869 Apr 14  2021 kafka-delete-records.sh
-rwxr-xr-x. 1 root root   866 Apr 14  2021 kafka-dump-log.sh
-rwxr-xr-x. 1 root root   863 Apr 14  2021 kafka-features.sh
-rwxr-xr-x. 1 root root   870 Apr 14  2021 kafka-leader-election.sh
-rwxr-xr-x. 1 root root   863 Apr 14  2021 kafka-log-dirs.sh
-rwxr-xr-x. 1 root root   873 Apr 14  2021 kafka-metadata-shell.sh
-rwxr-xr-x. 1 root root   862 Apr 14  2021 kafka-mirror-maker.sh
-rwxr-xr-x. 1 root root   886 Apr 14  2021 kafka-preferred-replica-election.sh
-rwxr-xr-x. 1 root root   959 Apr 14  2021 kafka-producer-perf-test.sh
-rwxr-xr-x. 1 root root   874 Apr 14  2021 kafka-reassign-partitions.sh
-rwxr-xr-x. 1 root root   874 Apr 14  2021 kafka-replica-verification.sh
-rwxr-xr-x. 1 root root 10329 Apr 14  2021 kafka-run-class.sh
-rwxr-xr-x. 1 root root  1376 Apr 14  2021 kafka-server-start.sh
-rwxr-xr-x. 1 root root  1361 Apr 14  2021 kafka-server-stop.sh
-rwxr-xr-x. 1 root root   860 Apr 14  2021 kafka-storage.sh
-rwxr-xr-x. 1 root root   945 Apr 14  2021 kafka-streams-application-reset.sh
-rwxr-xr-x. 1 root root   863 Apr 14  2021 kafka-topics.sh
-rwxr-xr-x. 1 root root   958 Apr 14  2021 kafka-verifiable-consumer.sh
-rwxr-xr-x. 1 root root   958 Apr 14  2021 kafka-verifiable-producer.sh
-rw-------. 1 root root 37842 Oct 13 15:06 nohup.out
-rwxr-xr-x. 1 root root  1714 Apr 14  2021 trogdor.sh
drwxr-xr-x. 2 root root  4096 Apr 14  2021 windows
-rwxr-xr-x. 1 root root   867 Apr 14  2021 zookeeper-security-migration.sh
-rwxr-xr-x. 1 root root  1393 Apr 14  2021 zookeeper-server-start.sh
-rwxr-xr-x. 1 root root  1366 Apr 14  2021 zookeeper-server-stop.sh
-rwxr-xr-x. 1 root root  1019 Apr 14  2021 zookeeper-shell.sh
</code></pre>
<h2 id="&#x67E5;&#x770B;kafka&#x7248;&#x672C;&#x548C;broker&#x7248;&#x672C;"><a name="&#x67E5;&#x770B;kafka&#x7248;&#x672C;&#x548C;broker&#x7248;&#x672C;" class="anchor-navigation-ex-anchor" href="#&#x67E5;&#x770B;kafka&#x7248;&#x672C;&#x548C;broker&#x7248;&#x672C;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x67E5;&#x770B;kafka&#x7248;&#x672C;&#x548C;broker&#x7248;&#x672C;</h2>
<pre class="language-"><code class="lang-shell">[root@centos2 kafka]# find /usr/local/kafka/libs/ -name \*kafka_\* | head -1 | grep -o &apos;\kafka[^\n]*&apos;
kafka/libs/kafka_2.13-2.8.0-test-sources.jar
# 2.13&#x662F;Scala&#x7248;&#x672C;&#xFF0C;2.8.0&#x662F;Kafka&#x7248;&#x672C;&#x3002;

/usr/local/kafka/bin/kafka-broker-api-versions.sh --version
2.8.0 (Commit:ebb1d6e21cc92130)
</code></pre>
<h2 id="&#x67E5;&#x770B;&#x7AEF;&#x53E3;&#x60C5;&#x51B5;"><a name="&#x67E5;&#x770B;&#x7AEF;&#x53E3;&#x60C5;&#x51B5;" class="anchor-navigation-ex-anchor" href="#&#x67E5;&#x770B;&#x7AEF;&#x53E3;&#x60C5;&#x51B5;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x67E5;&#x770B;&#x7AEF;&#x53E3;&#x60C5;&#x51B5;</h2>
<pre class="language-"><code>[root@centos2 bin]# netstat -tunlp|grep 9093
tcp        0      0 ::ffff:192.168.1.160:9093   :::*                        LISTEN      1765/java           
[root@centos2 bin]# netstat -tunlp|grep 2181
tcp        0      0 :::2181                     :::*                        LISTEN      1275/java
</code></pre><h2 id="&#x5220;&#x9664;topic"><a name="&#x5220;&#x9664;topic" class="anchor-navigation-ex-anchor" href="#&#x5220;&#x9664;topic"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5220;&#x9664;topic</h2>
<pre class="language-"><code class="lang-shell">/usr/local/kafka/bin/kafka-topics.sh --delete --zookeeper 192.168.1.160:2181 --topic bean_log
Topic bean_log is marked for deletion.
Note: This will have no impact if delete.topic.enable is not set to true.
/usr/local/kafka/bin/kafka-topics.sh --list --zookeeper 192.168.1.160:2181
__consumer_offsets
click_log
click_test
test
</code></pre>
<h2 id="&#x5BF9;&#x540D;&#x4E3A;clicklog&#x7684;topic&#xFF0C;partition&#x6269;&#x5C55;&#x5230;6&#x4E2A;"><a name="&#x5BF9;&#x540D;&#x4E3A;clicklog&#x7684;topic&#xFF0C;partition&#x6269;&#x5C55;&#x5230;6&#x4E2A;" class="anchor-navigation-ex-anchor" href="#&#x5BF9;&#x540D;&#x4E3A;clicklog&#x7684;topic&#xFF0C;partition&#x6269;&#x5C55;&#x5230;6&#x4E2A;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5BF9;&#x540D;&#x4E3A;click_log&#x7684;topic&#xFF0C;partition&#x6269;&#x5C55;&#x5230;6&#x4E2A;</h2>
<pre class="language-"><code class="lang-shell">[root@centos2 bin]# /usr/local/kafka/bin/kafka-topics.sh --alter --zookeeper 192.168.1.160:2181 --partitions 9 --topic click_log
WARNING: If partitions are increased for a topic that has a key, the partition logic or ordering of the messages will be affected
Adding partitions succeeded!
</code></pre>
<h2 id="consumeroffsets&#x8FD9;&#x4E2A;&#x7279;&#x6B8A;&#x7684;topic"><a name="consumeroffsets&#x8FD9;&#x4E2A;&#x7279;&#x6B8A;&#x7684;topic" class="anchor-navigation-ex-anchor" href="#consumeroffsets&#x8FD9;&#x4E2A;&#x7279;&#x6B8A;&#x7684;topic"><i class="fa fa-link" aria-hidden="true"></i></a>__consumer_offsets&#x8FD9;&#x4E2A;&#x7279;&#x6B8A;&#x7684;topic</h2>
<pre class="language-"><code class="lang-shell">[root@centos2 bin]# /usr/local/kafka/bin/kafka-topics.sh --list --zookeeper 192.168.1.160:2181
__consumer_offsets

[root@centos2 bin]# kafka-console-consumer.sh --topic __consumer_offsets --bootstrap-server 192.168.1.160:9093 --from-beginning --formatter &quot;kafka.coordinator.group.GroupMetadataManager\$OffsetsMessageFormatter&quot; (&#x7EC4;&#x540D;&#x4E3A;anna&#x548C;0&#x7684;&#x6309;&#x7406;)
[anna,click_log,4]::OffsetAndMetadata(offset=50, leaderEpoch=Optional[0], metadata=, commitTimestamp=1649950575701, expireTimestamp=None)
[anna,click_log,0]::OffsetAndMetadata(offset=200, leaderEpoch=Optional[0], metadata=, commitTimestamp=1649950575701, expireTimestamp=None)
[anna,click_log,3]::OffsetAndMetadata(offset=100, leaderEpoch=Optional[0], metadata=, commitTimestamp=1649950575701, expireTimestamp=None)
[anna,click_log,8]::OffsetAndMetadata(offset=50, leaderEpoch=Optional[0], metadata=, commitTimestamp=1649950575701, expireTimestamp=None)
[anna,click_log,2]::OffsetAndMetadata(offset=100, leaderEpoch=Optional[0], metadata=, commitTimestamp=1649950575701, expireTimestamp=None)
[anna,click_log,7]::OffsetAndMetadata(offset=0, leaderEpoch=Optional.empty, metadata=, commitTimestamp=1649950575701,expireTimestamp=None)
[anna,click_log,5]::OffsetAndMetadata(offset=100, leaderEpoch=Optional[0], metadata=, commitTimestamp=1649950575701, expireTimestamp=None)
[anna,click_log,6]::OffsetAndMetadata(offset=200, leaderEpoch=Optional[0], metadata=, commitTimestamp=1649950575701, expireTimestamp=None)
[anna,click_log,1]::OffsetAndMetadata(offset=150, leaderEpoch=Optional[0], metadata=, commitTimestamp=1649950575701, expireTimestamp=None)

[0,click_log,4]::OffsetAndMetadata(offset=300, leaderEpoch=Optional[1], metadata=, commitTimestamp=1649961789714, expireTimestamp=None)
[0,click_log,0]::OffsetAndMetadata(offset=300, leaderEpoch=Optional[1], metadata=, commitTimestamp=1649961789714, expireTimestamp=None)
[0,click_log,3]::OffsetAndMetadata(offset=400, leaderEpoch=Optional[2], metadata=, commitTimestamp=1649961789714, expireTimestamp=None)
[0,click_log,8]::OffsetAndMetadata(offset=150, leaderEpoch=Optional[1], metadata=, commitTimestamp=1649961789714, expireTimestamp=None)
[0,click_log,2]::OffsetAndMetadata(offset=0, leaderEpoch=Optional.empty, metadata=, commitTimestamp=1649961789714, expireTimestamp=None)
[0,click_log,7]::OffsetAndMetadata(offset=300, leaderEpoch=Optional[2], metadata=, commitTimestamp=1649961789714, expireTimestamp=None)
[0,click_log,5]::OffsetAndMetadata(offset=300, leaderEpoch=Optional[2], metadata=, commitTimestamp=1649961789714, expireTimestamp=None)
[0,click_log,6]::OffsetAndMetadata(offset=200, leaderEpoch=Optional[1], metadata=, commitTimestamp=1649961789714, expireTimestamp=None)
[0,click_log,1]::OffsetAndMetadata(offset=250, leaderEpoch=Optional[2], metadata=, commitTimestamp=1649961789714, expireTimestamp=None)

[anna,click_log,4]::NULL
[anna,click_log,0]::NULL
[anna,click_log,3]::NULL
[anna,click_log,8]::NULL
[anna,click_log,2]::NULL
[anna,click_log,7]::NULL
[anna,click_log,5]::NULL
[anna,click_log,6]::NULL
[anna,click_log,1]::NULL
# NULL&#x8868;&#x793A;offset&#x8FC7;&#x671F;&#x4E86; &#x4E5F;&#x5C31;&#x662F;&#x5893;&#x7891;&#x6D88;&#x606F;
offset&#x4E3A;&#x4EC0;&#x4E48;&#x4F1A;&#x6709;&#x5893;&#x7891;&#x6D88;&#x606F;?
&#x56E0;&#x4E3A;offset&#x672C;&#x8EAB;&#x4E5F;&#x4F1A;&#x8FC7;&#x671F;&#x6E05;&#x7406;.&#x53D7;offsets.retention.minutes &#x8FD9;&#x4E2A;&#x914D;&#x7F6E;&#x7684;&#x5F71;&#x54CD;
&#x770B;&#x4E0B;&#x5B98;&#x7F51;&#x4ECB;&#x7ECD;
After a consumer group loses all its consumers (i.e. becomes empty) its offsets will be kept for this retention period before getting discarded. For standalone consumers (using manual assignment), offsets will be expired after the time of last commit plus this retention period.
&#x5F53;group&#x91CC;&#x7684;consumer&#x5168;&#x90E8;&#x4E0B;&#x7EBF;&#x540E;&#x8FC7;offsets.retention.minutes &#x65F6;&#x95F4;&#x540E;offset&#x5C31;&#x4F1A;&#x88AB;&#x5220;&#x9664;
val OffsetsRetentionMinutes: Int = 7 * 24 * 60 // &#x9ED8;&#x8BA4;7&#x5929;
&#x9ED8;&#x8BA4;2.0&#x4E4B;&#x524D;&#x662F;1&#x5929;,2.0&#x53CA;&#x4EE5;&#x540E;&#x662F;7&#x5929; &#x8FD9;&#x4E2A;&#x5B98;&#x65B9;&#x771F;&#x662F;..&#x8981;&#x4E48;&#x5C31;&#x6539;&#x4E3A;2&#x5929;,&#x7ED3;&#x679C;&#x76F4;&#x63A5;&#x6539;&#x4E3A;7&#x5929;,&#x6539;&#x52A8;&#x4E0D;&#x53EF;&#x8C13;&#x4E0D;&#x5927;,&#x800C;&#x4E14;active&#x7684;group&#x4E0D;&#x4F1A;&#x8FC7;&#x671F;
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="PHP生产者和消费者.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: PHP生产者和消费者">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"其他","level":"1.4.4","depth":2,"next":{"title":"php","level":"1.5","depth":1,"ref":"","articles":[{"title":"tars","level":"1.5.1","depth":2,"path":"php/tars.md","ref":"php/tars.md","articles":[]},{"title":"curl的ca证书","level":"1.5.2","depth":2,"path":"php/curl的ca证书.md","ref":"php/curl的ca证书.md","articles":[]}]},"previous":{"title":"PHP生产者和消费者","level":"1.4.3","depth":2,"path":"kafka/PHP生产者和消费者.md","ref":"kafka/PHP生产者和消费者.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-lunr","-search","-sharing","-default-theme","search-pro","splitter","expandable-chapters","hide-element","-highlight","prism","prism-themes","code","ancre-navigation","livereload"],"root":".","styles":{"website":"styles/website.css","ebook":"styles/ebook.css","pdf":"styles/pdf.css","mobi":"styles/mobi.css","epub":"styles/epub.css"},"pluginsConfig":{"tbfed-pagefooter":{"modify_label":"该文件修订时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"prism":{"css":["prism-themes/themes/prism-darcula.css"]},"livereload":{},"splitter":{},"search-pro":{},"code":{"copyButtons":true},"hide-element":{"elements":[".gitbook-link"]},"fontsettings":{"theme":"white","family":"sans","size":2},"sectionx":{"tag":"b"},"page-toc-button":{"maxTocDepth":2,"minTocSize":2},"prism-themes":{},"ancre-navigation":{"associatedWithSummary":true,"float":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showLevel":true},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"expandable-chapters":{}},"theme":"default","author":"dbhuang","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"DBhuang的技术日志","language":"zh-hans","output.name":"site","gitbook":"3.2.3","description":"一点点的积累"},"file":{"path":"kafka/其他.md","mtime":"2022-04-30T11:58:59.612Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2022-04-30T13:59:30.513Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-hide-element/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

